{"version":3,"sources":["Carousel.js","Modal.js","Details.js"],"names":["Carousel","state","photos","active","handleIndexClick","event","setState","target","dataset","index","value","map","photo","media","filter","React","Component","modalRoot","document","getElementById","Modal","props","el","createElement","appendChild","removeChild","children","petfinder","key","secret","loading","LoadableContent","loader","Details","showModal","toggleModal","pet","get","output","id","then","data","breed","Array","isArray","breeds","join","name","animal","location","contact","city","description","catch","err"],"mappings":"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","file":"Details.180b8e97.map","sourceRoot":"..\\src","sourcesContent":["import React from 'react';\r\n\r\nclass Carousel extends React.Component {\r\n\tstate = {\r\n\t\tphotos: [],\r\n\t\tactive: 0\r\n\t};\r\n\tstatic getDerivedStateFromProps({ media }) {\r\n\t\tlet photos = [];\r\n\t\tif (media && media.photos && media.photos.photo) {\r\n\t\t\tphotos = media.photos.photo.filter((photo) => photo['@size'] === 'pn');\r\n\t\t}\r\n\r\n\t\treturn { photos };\r\n\t}\r\n\r\n\thandleIndexClick = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tactive: +event.target.dataset.index\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { photos, active } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"carousel\">\r\n\t\t\t\t<img src={photos[active].value} alt=\"animal\" />\r\n\t\t\t\t<div className=\"carousel-smaller\">\r\n\t\t\t\t\t{photos.map((photo, index) => (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tonClick={this.handleIndexClick}\r\n\t\t\t\t\t\t\tkey={photo.value}\r\n\t\t\t\t\t\t\tdata-index={index}\r\n\t\t\t\t\t\t\tsrc={photo.value}\r\n\t\t\t\t\t\t\tclassName={index === active ? 'active' : ''}\r\n\t\t\t\t\t\t\talt=\"animal thumbnail\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Carousel;\r\n","// taken from React docs\r\nimport React from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.getElementById('modal');\r\n\r\nclass Modal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.el = document.createElement('div');\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tmodalRoot.appendChild(this.el);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tmodalRoot.removeChild(this.el);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn createPortal(this.props.children, this.el);\r\n\t}\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport pf from 'petfinder-client';\r\nimport { navigate } from '@reach/router';\r\nimport Carousel from './Carousel';\r\nimport Modal from './Modal';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst petfinder = pf({\r\n\tkey: process.env.API_KEY,\r\n\tsecret: process.env.API_SECRET\r\n});\r\n\r\nconst loading = () => <h1>loading split code...</h1>;\r\n\r\nconst LoadableContent = Loadable({\r\n\tloader: () => import('./AdoptModalContent'),\r\n\tloading\r\n});\r\n\r\nclass Details extends React.Component {\r\n\tstate = { loading: true, showModal: false };\r\n\r\n\tcomponentDidMount() {\r\n\t\tpetfinder.pet\r\n\t\t\t.get({\r\n\t\t\t\toutput: 'full',\r\n\t\t\t\tid: this.props.id\r\n\t\t\t})\r\n\t\t\t.then((data) => {\r\n\t\t\t\tlet breed;\r\n\t\t\t\tif (Array.isArray(data.petfinder.pet.breeds.breed)) {\r\n\t\t\t\t\tbreed = data.petfinder.pet.breeds.breed.join(', ');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreed = data.petfinder.pet.breeds.breed;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tname: data.petfinder.pet.name,\r\n\t\t\t\t\tanimal: data.petfinder.pet.animal,\r\n\t\t\t\t\tlocation: `${data.petfinder.pet.contact.city}, ${data.petfinder.pet.contact.state}`,\r\n\t\t\t\t\tdescription: data.petfinder.pet.description,\r\n\t\t\t\t\tmedia: data.petfinder.pet.media,\r\n\t\t\t\t\tbreed,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => navigate('/'));\r\n\t}\r\n\r\n\ttoggleModal = () => this.setState({ showModal: !this.state.showModal });\r\n\r\n\trender() {\r\n\t\tif (this.state.loading) {\r\n\t\t\treturn <h1> loading… </h1>;\r\n\t\t}\r\n\r\n\t\tconst { animal, breed, location, description, media, showModal } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"details\">\r\n\t\t\t\t<Carousel media={media} />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1> {name} </h1>\r\n\t\t\t\t\t<h2> {`${animal} — ${breed} — ${location}`} </h2>\r\n\t\t\t\t\t<button onClick={this.toggleModal}>Adopt {name}</button>\r\n\t\t\t\t\t<p> {description} </p>\r\n\t\t\t\t\t{showModal ? (\r\n\t\t\t\t\t\t<Modal>\r\n\t\t\t\t\t\t\t<LoadableContent toggleModal={this.toggleModal} name={name} />\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Details;\r\n"]}