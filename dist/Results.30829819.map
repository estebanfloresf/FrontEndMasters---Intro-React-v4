{"version":3,"sources":["Pet.js","Results.js"],"names":["Pet","props","name","animal","breed","media","location","id","photos","photo","filter","hero","value","React","Component","petfinder","key","secret","Results","state","pets","search","pet","find","output","searchParams","then","data","Array","isArray","setState","alert","map","breeds","join","contact","city","ResultsWithContext","context"],"mappings":"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","file":"Results.30829819.map","sourceRoot":"..\\src","sourcesContent":["import React from 'react';\r\nimport { Link } from '@reach/router';\r\n\r\nclass Pet extends React.Component {\r\n\trender() {\r\n\t\tconst { name, animal, breed, media, location, id } = this.props;\r\n\t\tlet photos = [];\r\n\t\tif (media && media.photos && media.photos.photo) {\r\n\t\t\tphotos = media.photos.photo.filter((photo) => photo['@size'] === 'pn');\r\n\t\t}\r\n\t\tconst hero = photos[0] ? photos[0].value : 'http://placecorgi.com/300/300';\r\n\t\treturn (\r\n\t\t\t<Link to={`/details/${id}`} className=\"pet\">\r\n\t\t\t\t<div className=\"image-container\">\r\n\t\t\t\t\t<img src={hero} alt={name} />{' '}\r\n\t\t\t\t</div>{' '}\r\n\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t<h1> {name} </h1> <h2> {`${animal} — ${breed} — ${location}`} </h2>\r\n\t\t\t\t</div>{' '}\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Pet;\r\n","import React from 'react';\r\nimport SearchBox from './SearchBox';\r\nimport Pet from './Pet';\r\nimport pf from 'petfinder-client';\r\nimport { Consumer } from './SearchContext';\r\n\r\nconst petfinder = pf({\r\n\tkey: process.env.API_KEY,\r\n\tsecret: process.env.API_SECRET\r\n});\r\n\r\nclass Results extends React.Component {\r\n\tstate = {\r\n\t\tpets: []\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.search();\r\n\t}\r\n\r\n\tsearch = () => {\r\n\t\tpetfinder.pet\r\n\t\t\t.find({\r\n\t\t\t\toutput: 'full',\r\n\t\t\t\tlocation: this.props.searchParams.location,\r\n\t\t\t\tanimal: this.props.searchParams.animal,\r\n\t\t\t\tbreed: this.props.searchParams.breed\r\n\t\t\t})\r\n\t\t\t.then((data) => {\r\n\t\t\t\tlet pets;\r\n\t\t\t\tif (data.petfinder.pets && data.petfinder.pets.pet) {\r\n\t\t\t\t\tif (Array.isArray(data.petfinder.pets.pet)) {\r\n\t\t\t\t\t\tpets = data.petfinder.pets.pet;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpets = [ data.petfinder.pets.pet ];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpets = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpets\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\thandletTitleCLick() {\r\n\t\talert('Ýou clicked the title');\r\n\t}\r\n\trender() {\r\n\t\tconst { pets } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"search\">\r\n\t\t\t\t<SearchBox search={this.search} />\r\n\r\n\t\t\t\t{pets.map((pet) => {\r\n\t\t\t\t\tlet breed;\r\n\t\t\t\t\tif (Array.isArray(pet.breeds.breed)) {\r\n\t\t\t\t\t\tbreed = pet.breeds.breed.join(', ');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbreed = pet.breeds.breed;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Pet\r\n\t\t\t\t\t\t\tkey={pet.id}\r\n\t\t\t\t\t\t\tanimal={pet.animal}\r\n\t\t\t\t\t\t\tname={pet.name}\r\n\t\t\t\t\t\t\tbreed={breed}\r\n\t\t\t\t\t\t\tmedia={pet.media}\r\n\t\t\t\t\t\t\tlocation={`${pet.contact.city}, ${pet.contact.state}`}\r\n\t\t\t\t\t\t\tid={pet.id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// add consumer to export\r\nexport default function ResultsWithContext(props) {\r\n\treturn <Consumer>{(context) => <Results {...props} searchParams={context} />}</Consumer>;\r\n}\r\n"]}