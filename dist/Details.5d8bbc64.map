{"version":3,"sources":["Carousel.js","Modal.js","Details.js"],"names":["Carousel","state","photos","active","handleIndexClick","event","setState","target","dataset","index","React","Component","value","map","photo","media","filter","Modal","props","el","document","createElement","modalRoot","getElementById","appendChild","removeChild","children","Details","petfinder","key","secret","loading","LoadableContent","loader","showModal","toggleModal","pet","get","output","id","then","data","breed","Array","isArray","breeds","join","name","animal","location","contact","city","description","catch","err"],"mappings":"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","file":"Details.5d8bbc64.map","sourceRoot":"..\\src","sourcesContent":["import React from 'react';\r\n\r\nclass Carousel extends React.Component {\r\n\tstate = {\r\n\t\tphotos: [],\r\n\t\tactive: 0\r\n\t};\r\n\tstatic getDerivedStateFromProps({ media }) {\r\n\t\tlet photos = [];\r\n\t\tif (media && media.photos && media.photos.photo) {\r\n\t\t\tphotos = media.photos.photo.filter((photo) => photo['@size'] === 'pn');\r\n\t\t}\r\n\r\n\t\treturn { photos };\r\n\t}\r\n\r\n\thandleIndexClick = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tactive: +event.target.dataset.index\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { photos, active } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"carousel\">\r\n\t\t\t\t<img src={photos[active].value} alt=\"animal\" />\r\n\t\t\t\t<div className=\"carousel-smaller\">\r\n\t\t\t\t\t{photos.map((photo, index) => (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tonClick={this.handleIndexClick}\r\n\t\t\t\t\t\t\tkey={photo.value}\r\n\t\t\t\t\t\t\tdata-index={index}\r\n\t\t\t\t\t\t\tsrc={photo.value}\r\n\t\t\t\t\t\t\tclassName={index === active ? 'active' : ''}\r\n\t\t\t\t\t\t\talt=\"animal thumbnail\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Carousel;\r\n","// taken from React docs\r\nimport React from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nclass Modal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.el = document.createElement('div');\r\n\t\tthis.modalRoot = document.getElementById('modal');\r\n\t\tthis.modalRoot.appendChild(this.el);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.modalRoot.removeChild(this.el);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn createPortal(this.props.children, this.el);\r\n\t}\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport pf from 'petfinder-client';\r\nimport { navigate } from '@reach/router';\r\nimport Carousel from './Carousel';\r\nimport Modal from './Modal';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst petfinder = pf({\r\n\tkey: process.env.API_KEY,\r\n\tsecret: process.env.API_SECRET\r\n});\r\n\r\nconst loading = () => <h1>loading split code...</h1>;\r\n\r\nconst LoadableContent = Loadable({\r\n\tloader: () => import('./AdoptModalContent'),\r\n\tloading\r\n});\r\n\r\nclass Details extends React.Component {\r\n\tstate = { loading: true, showModal: false };\r\n\r\n\tcomponentDidMount() {\r\n\t\tpetfinder.pet\r\n\t\t\t.get({\r\n\t\t\t\toutput: 'full',\r\n\t\t\t\tid: this.props.id\r\n\t\t\t})\r\n\t\t\t.then((data) => {\r\n\t\t\t\tlet breed;\r\n\t\t\t\tif (Array.isArray(data.petfinder.pet.breeds.breed)) {\r\n\t\t\t\t\tbreed = data.petfinder.pet.breeds.breed.join(', ');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreed = data.petfinder.pet.breeds.breed;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tname: data.petfinder.pet.name,\r\n\t\t\t\t\tanimal: data.petfinder.pet.animal,\r\n\t\t\t\t\tlocation: `${data.petfinder.pet.contact.city}, ${data.petfinder.pet.contact.state}`,\r\n\t\t\t\t\tdescription: data.petfinder.pet.description,\r\n\t\t\t\t\tmedia: data.petfinder.pet.media,\r\n\t\t\t\t\tbreed,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => navigate('/'));\r\n\t}\r\n\r\n\ttoggleModal = () => this.setState({ showModal: !this.state.showModal });\r\n\r\n\trender() {\r\n\t\tif (this.state.loading) {\r\n\t\t\treturn <h1> loading… </h1>;\r\n\t\t}\r\n\r\n\t\tconst { animal, breed, location, description, media, showModal } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"details\">\r\n\t\t\t\t<Carousel media={media} />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1> {name} </h1>\r\n\t\t\t\t\t<h2> {`${animal} — ${breed} — ${location}`} </h2>\r\n\t\t\t\t\t<button onClick={this.toggleModal}>Adopt {name}</button>\r\n\t\t\t\t\t<p> {description} </p>\r\n\t\t\t\t\t{showModal ? (\r\n\t\t\t\t\t\t<Modal>\r\n\t\t\t\t\t\t\t<LoadableContent toggleModal={this.toggleModal} name={name} />\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Details;\r\n"]}